webpackJsonp([1],{0:function(t,e){},"5dRt":function(t,e){},"7zck":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=a("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},i=a("VU/8")({name:"App"},r,!1,null,null,null).exports,o=a("/ocq"),c=a("Dd8w"),l=a.n(c),d=a("NYxO"),u=a("8+8L"),_=a("bOdI"),k=a.n(_),v=(s={},k()(s,"get_tasks",function(t,e){t.tasks=e.payload}),k()(s,"toggle_task",function(t,e){var a=e.task;a.completed=!a.completed}),k()(s,"delete_task",function(t,e){var a=e.task;t.tasks.splice(t.tasks.indexOf(a),1)}),k()(s,"edit_task",function(t,e){var a=e.task,s=e.text;a.text=s}),k()(s,"add_task",function(t,e){var a=e.task;t.tasks.push(a)}),k()(s,"clear_completed",function(t){t.tasks=t.tasks.filter(function(t){return!t.completed})}),s),p=a("mtWM"),h=a.n(p),m="https://suhasdjango.herokuapp.com";var f,g,b={state:{tasks:[]},mutations:v,actions:{get_tasks:function(t){var e=t.commit;e("request_api"),e("show_loader",{message:"downloading tasks..."}),h.a.get(m).then(function(t){e("request_api_success"),e("get_tasks",{payload:t.data}),e("hide_loader")}).catch(function(t){e("request_api_error",{err:t}),e("show_loader",{message:"There was an error downloading the tasks."})})},toggle_task:function(t,e){var a=t.commit,s=e.task;a("request_api"),a("show_loader",{message:"toggling..."}),h.a.put(s.url,{completed:!s.completed}).then(function(t){a("request_api_success"),a("toggle_task",{task:s}),a("hide_loader")}).catch(function(t){a("request_api_error",{err:t}),a("show_loader",{message:"There was an error toggling."})})},delete_task:function(t,e){var a=t.commit,s=e.task;a("request_api"),a("show_loader",{message:"deleting tasks..."}),h.a.delete(s.url).then(function(t){a("request_api_success"),a("delete_task",{task:s}),a("hide_loader")}).catch(function(t){a("request_api_error",{err:t}),a("show_loader",{message:"There was an error deleting the tasks."})})},edit_task:function(t,e){var a=t.commit,s=e.task,n=e.text;a("request_api"),a("show_loader",{message:"updating tasks..."}),h.a.put(s.url,{text:n}).then(function(t){a("request_api_success"),a("edit_task",{task:s,text:n}),a("hide_loader")}).catch(function(t){a("request_api_error",{err:t}),a("show_loader",{message:"There was an error updating the tasks."})})},add_task:function(t,e){var a=t.commit,s=e.text;a("request_api"),a("show_loader",{message:"addinging new task..."}),h.a.post(m,{text:s,completed:!1}).then(function(t){a("request_api_success"),a("add_task",{task:t.data}),a("hide_loader")}).catch(function(t){a("request_api_error",{err:t}),a("show_loader",{message:"There was an error adding the task."})})},clear_completed:function(t){var e=t.commit;e("request_api"),e("show_loader",{message:"deleting completed task..."}),h.a.delete(m).then(function(t){e("request_api_success"),e("clear_completed"),e("hide_loader")}).catch(function(t){e("request_api_error",{err:t}),e("show_loader",{message:"There was an error deleting the tasks."})})}},getters:{completed_tasks:function(t){return t.tasks.filter(function(t){return t.completed})},active_tasks:function(t){return t.tasks.filter(function(t){return!t.completed})},active_task_count:function(t,e){return e.active_tasks.length}}},w={state:{show:!1,message:""},mutations:(f={},k()(f,"show_loader",function(t,e){t.show=!0,t.message=e.message}),k()(f,"hide_loader",function(t){t.show=!1,t.message=""}),f),actions:{show_loader:function(t,e){(0,t.commit)("show_loader",{message:e})},hide_loader:function(t){(0,t.commit)("hide_loader")}}},x={state:{isfetching:!1,error:null},mutations:(g={},k()(g,"request_api",function(t){t.isfetching=!0,t.error=null}),k()(g,"request_api_success",function(t){t.isfetching=!1,t.error=null}),k()(g,"request_api_error",function(t,e){t.isfetching=!1,t.error=e.error}),g)};n.default.use(d.a),n.default.use(u.a);var q=new d.a.Store({modules:{tasks:b,loader:w,network:x}}),O={name:"task_item",props:["task"],data:function(){return{checked:this.task.completed}},computed:l()({},Object(d.d)(["tasks"])),methods:l()({},Object(d.b)(["toggle_task","delete_task"]),{toggle:function(){this.checked=!this.checked,this.toggle_task({task:this.task})}})},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-list-tile",{attrs:{avatar:"",ripple:""}},[a("v-list-tile-content",[a("v-list-tile-title",[a("router-link",{attrs:{to:{name:"task_field",params:{id:t.task.id,add:!1}}}},[t._v("\n\t\t\t\t\t"+t._s(t.task.text)+"\n\t\t\t\t")])],1)],1),t._v(" "),a("v-list-tile-action",[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.delete_task({task:t.task})}}},[a("v-icon",{attrs:{color:"indigo"},on:{click:function(e){return t.toggle(t.index)}}},[t._v("delete")])],1),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:t.toggle}},[t.checked?a("v-icon",{attrs:{color:"pink"}},[t._v("star")]):a("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("star_border")])],1)],1)],1)],1)},staticRenderFns:[]};var T=a("VU/8")(O,y,!1,function(t){a("5dRt")},null,null).exports,j={name:"loader",computed:Object(d.d)(["loader"])},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("center",[this.loader.show?e("div",[e("v-progress-circular",{attrs:{indeterminate:"",size:70,width:7,color:"indigo"}}),e("br"),this._v("\n\t\t"+this._s(this.loader.message)+"\n\t")],1):this._e()])},staticRenderFns:[]},E={name:"task_list",components:{loader:a("VU/8")(j,R,!1,null,null,null).exports,task_item:T},data:function(){return{active_tab:null}},methods:l()({},Object(d.b)(["clear_completed"])),beforeRouteEnter:function(t,e,a){q.dispatch("get_tasks").then(function(){return a()})},computed:l()({},Object(d.d)(["tasks","network"]),Object(d.c)(["completed_tasks","active_tasks","active_task_count"]))},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",[a("v-toolbar",{attrs:{color:"indigo",dark:"",tabs:""}},[a("v-toolbar-title",[t._v("Crud Tasks")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:t.clear_completed}},[a("v-icon",[t._v("delete")])],1),t._v(" "),a("v-tabs",{attrs:{slot:"extension",color:"transparent",grow:""},slot:"extension",model:{value:t.active_tab,callback:function(e){t.active_tab=e},expression:"active_tab"}},[a("v-tab",{key:t.all},[t._v("All")]),t._v(" "),a("v-tab",{key:t.completed},[t._v("Completed")]),t._v(" "),a("v-tab",{key:t.active},[t._v("\n\t\t\t\t\t\t\tActive \n\t\t\t\t\t\t\t"),a("v-badge",{attrs:{color:"pink"}},[a("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.active_task_count))])])],1),t._v(" "),a("v-tabs-slider",{attrs:{color:"pink"}})],1)],1),t._v(" "),a("br"),t._v(" "),a("v-tabs-items",{model:{value:t.active_tab,callback:function(e){t.active_tab=e},expression:"active_tab"}},[a("v-tab-item",{key:t.all,attrs:{id:t.all}},[a("loader"),t._v(" "),t._l(t.tasks.tasks,function(e){return t.network.isfetching?t._e():a("v-list",{attrs:{"two-line":""}},[a("task_item",{attrs:{task:e}})],1)})],2),t._v(" "),a("v-tab-item",{key:t.completed,attrs:{id:t.completed}},[a("loader"),t._v(" "),t._l(t.completed_tasks,function(e){return t.network.isfetching?t._e():a("v-list",{attrs:{"two-line":""}},[a("task_item",{attrs:{task:e}})],1)})],2),t._v(" "),a("v-tab-item",{key:t.active,attrs:{id:t.active}},[a("loader"),t._v(" "),t._l(t.active_tasks,function(e){return t.network.isfetching?t._e():a("v-list",{attrs:{"two-line":""}},[a("task_item",{attrs:{task:e}})],1)})],2)],1)],1)],1)],1),t._v(" "),a("router-link",{attrs:{to:{name:"task_field",params:{id:!1,add:!0}}}},[a("v-btn",{attrs:{color:"indigo",dark:"",fab:"",fixed:"",bottom:"",right:""}},[a("v-icon",[t._v("add")])],1)],1),t._v(" "),a("router-view")],1)},staticRenderFns:[]},U=a("VU/8")(E,A,!1,null,null,null).exports,V={name:"task_field",props:["id","add"],data:function(){return{text:"",dialog:!1}},created:function(){var t=this;this.text=this.add?"":this.task.text,setTimeout(function(){t.dialog=!0},0)},computed:l()({},Object(d.d)(["tasks"]),{task:function(){if(this.add)return!1;for(var t=this.tasks.tasks.length,e=0;e<t;e++){var a=this.tasks.tasks[e];if(a.id===this.id)return a}}}),methods:l()({},Object(d.b)(["edit_task","delete_task","add_task"]),{done_edit:function(){var t=this.text.trim();this.add?t&&this.add_task({text:t}):t?this.edit_task({task:this.task,text:t}):this.delete_task({task:this.task}),this.dialog=!1,setTimeout(function(){z.push("/")},250)},cancel_edit:function(){this.dialog=!1,setTimeout(function(){z.push("/")},250)}})},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{label:"Text"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),t.add?a("v-btn",{attrs:{flat:"",color:"primary"},nativeOn:{click:function(e){return t.done_edit(e)}}},[t._v("Add")]):a("v-btn",{attrs:{flat:"",color:"primary"},nativeOn:{click:function(e){return t.done_edit(e)}}},[t._v("Update")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},nativeOn:{click:function(e){return t.cancel_edit(e)}}},[t._v("Cancel")])],1)],1)],1)},staticRenderFns:[]},$=a("VU/8")(V,F,!1,null,null,null).exports;n.default.use(o.a);var z=new o.a({routes:[{path:"/",name:"task_list",component:U,children:[{path:"/:id/:add",component:$,props:!0,name:"task_field"}]}]}),C=a("3EgV"),N=a.n(C);a("7zck");n.default.use(N.a),n.default.config.productionTip=!1,new n.default({el:"#app",store:q,router:z,components:{App:i},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.0aaeace13c6a6ac840bd.js.map